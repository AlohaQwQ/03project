{
    "sourceFile": "pages/utils/validateConfig.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1731235677025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1731235677024,
            "name": "Commit-0",
            "content": "import {\n  FreezeTokenPayment,\n  GuardSet,\n  TokenPayment,\n} from \"@metaplex-foundation/mpl-candy-machine\";\nimport { fetchToken } from \"@metaplex-foundation/mpl-toolbox\";\nimport { PublicKey, Some, Umi } from \"@metaplex-foundation/umi\";\nimport { notification } from \"antd\"; // 使用 Ant Design 的 notification 组件\n\nexport const checkAtaValid = (\n  umi,\n  guards\n) => {\n  console.log(\"checkAtaValid\");\n  let atas = [];\n  \n  guards.forEach((guard) => {\n    if (guard.guards.tokenPayment.__option === \"Some\") {\n      let tokenPayment = guard.guards.tokenPayment;\n      atas.push(tokenPayment.value.destinationAta);\n    }\n    if (guard.guards.freezeTokenPayment.__option === \"Some\") {\n      let freezeTokenPayment = guard.guards.freezeTokenPayment;\n      atas.push(freezeTokenPayment.value.destinationAta);\n    }\n  });\n\n  atas.forEach((ata) => {\n    fetchToken(umi, ata).catch((e) => {\n      console.log(e);\n      notification.error({\n        message: \"Your Candy Guard config is incorrect!\",\n        description: `${ata} is not an Associated Token Account! Minting will fail!`,\n        duration: 9,\n      });\n    });\n  });\n  \n  return;\n};"
        }
    ]
}